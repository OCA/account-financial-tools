-
   Test
-
  !python {model: financial.move.create, id: False}: |
        from datetime import datetime
        from dateutil.relativedelta import relativedelta

        receive = [
        dict(
                bank_id=ref('bank_112358_13'),
                company_id=ref('base.main_company'),
                currency_id=ref('base.BRL'),
                financial_type='2receive',
                partner_id=ref('base.res_partner_12'),
                document_number=100001,
                document_date=datetime.now().replace(
                    day=1,month=1) - relativedelta(days=1),
                payment_mode_id=ref(
                    'account_payment_mode.payment_mode_outbound_ct1'),
                payment_term_id=ref('account.account_payment_term_15days'),
                amount=55500.00,
                account_type_id=ref('account.data_account_type_receivable'),
            ),
        dict(
                bank_id=ref('bank_112358_13'),
                company_id=ref('base.main_company'),
                currency_id=ref('base.BRL'),
                financial_type='2receive',
                partner_id=ref('base.res_partner_2'),
                document_number=100002,
                document_date=datetime.now().replace(
                    day=1,month=1) - relativedelta(days=1),
                payment_mode_id=ref(
                    'account_payment_mode.payment_mode_outbound_ct1'),
                payment_term_id=ref('account.account_payment_term_net'),
                amount=15000.00,
                account_type_id=ref('account.data_account_type_receivable'),
            ),
        dict(
                bank_id=ref('bank_112358_13'),
                company_id=ref('base.main_company'),
                currency_id=ref('base.BRL'),
                financial_type='2receive',
                partner_id=ref('base.res_partner_3'),
                document_number=100003,
                document_date=datetime.now().replace(
                    day=1,month=1) - relativedelta(days=1),
                payment_mode_id=ref(
                    'account_payment_mode.payment_mode_outbound_ct1'),
                payment_term_id=ref('account.account_payment_term_advance'),
                amount=2459.00,
                account_type_id=ref('account.data_account_type_receivable'),
            ),
        dict(
                bank_id=ref('bank_112358_13'),
                company_id=ref('base.main_company'),
                currency_id=ref('base.BRL'),
                financial_type='2receive',
                partner_id=ref('base.res_partner_10'),
                document_number=100004,
                document_date=datetime.now().replace(
                    day=1,month=1) - relativedelta(days=1),
                payment_mode_id=ref(
                    'account_payment_mode.payment_mode_outbound_ct1'),
                payment_term_id=ref('account.account_payment_term_advance'),
                amount=87000.00,
                account_type_id=ref('account.data_account_type_receivable'),
            ),
        dict(
                bank_id=ref('bank_112358_13'),
                company_id=ref('base.main_company'),
                currency_id=ref('base.BRL'),
                financial_type='2receive',
                partner_id=ref('base.res_partner_12'),
                document_number=100005,
                document_date=datetime.now().replace(
                    day=1,month=1) - relativedelta(days=1),
                payment_mode_id=ref(
                    'account_payment_mode.payment_mode_outbound_ct1'),
                payment_term_id=ref('account.account_payment_term'),
                amount=107000.00,
                account_type_id=ref('account.data_account_type_receivable'),
            ),
        dict(
                bank_id=ref('bank_112358_13'),
                company_id=ref('base.main_company'),
                currency_id=ref('base.BRL'),
                financial_type='2receive',
                partner_id=ref('base.res_partner_18'),
                document_number=100006,
                document_date=datetime.now().replace(
                    day=1,month=1) - relativedelta(days=1),
                payment_mode_id=ref(
                    'account_payment_mode.payment_mode_outbound_ct1'),
                payment_term_id=ref('account.account_payment_term_immediate'),
                amount=800.00,
                account_type_id=ref('account.data_account_type_receivable'),
            ),
        ]
        for item in receive:
          cr_1 = self.create(
              item
          )
          ctx = cr_1._context.copy()
          ctx['active_id'] = cr_1.id
          ctx['active_ids'] = [cr_1.id]
          ctx['active_model'] = cr_1._module
          cr_1.onchange_fields()
          cr_1.compute()
-
  !python {model: financial.move.create, id: False}: |
        from datetime import datetime
        from dateutil.relativedelta import relativedelta

        receive = [
        dict(
                bank_id=ref('bank_112358_13'),
                company_id=ref('base.main_company'),
                currency_id=ref('base.BRL'),
                financial_type='2pay',
                partner_id=ref('base.res_partner_12'),
                document_number=1583,
                document_date=datetime.now().replace(
                    day=1,month=1) - relativedelta(days=3, month=1),
                payment_mode_id=ref(
                    'account_payment_mode.payment_mode_outbound_ct1'),
                payment_term_id=ref('account.account_payment_term_advance'),
                amount=1459.00,
                account_type_id=ref('account.data_account_type_payable'),
            ),
        dict(
                bank_id=ref('bank_112358_13'),
                company_id=ref('base.main_company'),
                currency_id=ref('base.BRL'),
                financial_type='2pay',
                partner_id=ref('base.res_partner_3'),
                document_number=87981,
                document_date=datetime.now().replace(
                    day=1,month=1) - relativedelta(days=3, month=1),
                payment_mode_id=ref(
                    'account_payment_mode.payment_mode_outbound_ct1'),
                payment_term_id=ref('account.account_payment_term_advance'),
                amount=47000.00,
                account_type_id=ref('account.data_account_type_payable'),
            ),
        dict(
                bank_id=ref('bank_112358_13'),
                company_id=ref('base.main_company'),
                currency_id=ref('base.BRL'),
                financial_type='2pay',
                partner_id=ref('base.res_partner_4'),
                document_number=87974,
                document_date=datetime.now().replace(
                    day=1,month=1) - relativedelta(days=3, month=2),
                payment_mode_id=ref(
                    'account_payment_mode.payment_mode_outbound_ct1'),
                payment_term_id=ref('account.account_payment_term'),
                amount=87000.00,
                account_type_id=ref('account.data_account_type_payable'),
            ),
        dict(
                bank_id=ref('bank_112358_13'),
                company_id=ref('base.main_company'),
                currency_id=ref('base.BRL'),
                financial_type='2pay',
                partner_id=ref('base.res_partner_1'),
                document_number=1706,
                document_date=datetime.now().replace(
                    day=1,month=1) - relativedelta(days=3, month=6),
                payment_mode_id=ref(
                    'account_payment_mode.payment_mode_outbound_ct1'),
                payment_term_id=ref('account.account_payment_term_immediate'),
                amount=400.00,
                account_type_id=ref('account.data_account_type_payable'),
            ),
        ]
        for item in receive:
          cr_1 = self.create(
              item
          )
          ctx = cr_1._context.copy()
          ctx['active_id'] = cr_1.id
          ctx['active_ids'] = [cr_1.id]
          ctx['active_model'] = cr_1._module
          cr_1.onchange_fields()
          cr_1.compute()
